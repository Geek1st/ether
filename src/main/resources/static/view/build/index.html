<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>工作台</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="../../admin/css/other/console.css" />
	<style>
		.layui-input,
		.layui-unselect,
		.layui-select-title {
			height: 30px;
		}
	</style>
	<script type="text/html" id="toolbar">
			<div class="layui-inline ">
				<input type="text" id="search"  placeholder="搜索" autocomplete="off" class="layui-input" style="height:30px;width:160px">
			</div>
			<div class="layui-inline " style="height:30px;width:100px">
				<select id="orderState">
					<option value="0">所有状态</option>
					<option value="1">已支付</option>
					<option value="2">未支付</option>
					<option value="3">已结算</option>
				</select>
			</div>
			<button type="button" class="layui-btn layui-btn-primary layui-btn-sm" lay-event="search" style="padding:0px 3px 0px 5px">
				<i class="layui-icon">&#xe615;</i>
			</button>
			<!-- 这里同样支持 laytpl 语法，如： -->
			{{#  if(d.auth > 2){ }}
				<a class="layui-btn layui-btn-xs" lay-event="check">审核</a>
			{{#  } }}
		</script>
</head>

<body>
	<div class="pear-container">
		<div class="layui-row layui-col-space10">
			<div class="layui-col-md8">
				<div class="layui-row layui-col-space10">
					<div class="layui-col-md12">
						<div class="layui-card">
							<div class="layui-card-header">
								最近访问
							</div>
							<div class="layui-card-body">
								<div class="layui-row layui-col-space10">
									<div class="layui-col-md3 layui-col-sm3 layui-col-xs3">
										<div class="shortcut-menu" data-id="home1" data-title="主页"
											data-url="http://www.bing.com">
											<i class="layui-icon layui-icon-home"></i>
										</div>
										<span class="shortcut-menu-label">tango</span>
									</div>
									<div class="layui-col-md3 layui-col-sm3 layui-col-xs3">
										<div class="shortcut-menu" data-id="home2" data-title="弹层"
											data-url="http://www.bing.com">
											<i class="layui-icon layui-icon-camera"></i>
										</div>
										<span class="shortcut-menu-label">ether</span>
									</div>
									<div class="layui-col-md3 layui-col-sm3 layui-col-xs3">
										<div class="shortcut-menu" data-id="home2" data-title="聊天"
											data-url="http://www.bing.com">
											<i class="layui-icon layui-icon-star"></i>
										</div>
										<span class="shortcut-menu-label">gravity</span>
									</div>

									<div class="layui-col-md3 layui-col-sm3 layui-col-xs3">
										<div class="shortcut-menu" data-id="home7" data-title="更多"
											data-url="http://www.bing.com">
											<i class="layui-icon layui-icon-app"></i>
										</div>
										<span class="shortcut-menu-label">更多</span>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="layui-col-md12">
						<div class="layui-card">
							<div class="layui-card-header">
								全部项目
							</div>
							<div class="layui-card-body" style="padding-top: 15px; padding-bottom: 15px;">
								<table class="layui-hide" id="ID-table-demo-data"></table>
							</div>
						</div>
						<div class="layui-card">
							<div class="layui-card-body">
								<div class="layui-tab custom-tab layui-tab-brief" lay-filter="docDemoTabBrief">
									<div id="echarts-records-1" style="height:400px;"></div>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
			<div class="layui-col-md4">
				<div class="layui-card">
					<div class="layui-card-header">留言板</div>
					<div class="layui-card-body">
						<ul class="message-board">
							<li>
								<p>要不要作为我的家人，搬来我家。</p>
								<span>12月25日 19:92</span>
								<a href="javascript:;" data-id="1"
									class="layui-btn layui-btn-primary layui-btn-xs message-board-reply">回复</a>
							</li>
							<li>
								<p>快乐的时候不敢尽兴，频繁警戒自己保持清醒。</p>
								<span>4月30日 22:43</span>
								<a href="javascript:;" data-id="1"
									class="layui-btn layui-btn-primary layui-btn-xs message-board-reply">回复</a>
							</li>

							<li>
								<p>我们应该不虚度一生，应该能够说：＂我已经做了我能做的事。＂</p>
								<span>4月30日 22:43</span>
								<a href="javascript:;" data-id="1"
									class="layui-btn layui-btn-primary layui-btn-xs message-board-reply">回复</a>
							</li>
							</li>
							<li>
								<p>接近，是我对一切的态度，是我对一切态度的距离</p>
								<span>6月11日 15:33</span>
								<a href="javascript:;" data-id="1"
									class="layui-btn layui-btn-primary layui-btn-xs message-board-reply">回复</a>
							</li>
							<li>
								<p>没有锚的船当然也可以航行，只是紧张充满你的一生。</p>
								<span>2月09日 13:40</span>
								<a href="javascript:;" data-id="1"
									class="layui-btn layui-btn-primary layui-btn-xs message-board-reply">回复</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script>
		layui.use(['layer', 'echarts', 'carousel', 'element', 'table'], function () {
			var $ = layui.jquery,
				layer = layui.layer,
				element = layui.element,
				echarts = layui.echarts,
				table = layui.table,
				carousel = layui.carousel;

			var inst = table.render({
				elem: '#ID-table-demo-data',
				toolbar: "#toolbar",
				url: '/project',
				cols: [
					[{
						field: 'id',
						hide: true
					},
					{
						field: 'name',
						title: '项目名称',
						minWidth: 160
					},
					{
						field: 'code',
						title: '项目代号',
						minwidth: 160
					},
					{
						field: 'gmtCreate',
						title: '创建时间',
						width: 160
					},
					{
						field: 'creator',
						title: '创建人',
						width: 80
					},
					{
						field: 'experience',
						title: '操作',
						width: 80
					}
					]
				],
				page: true,
				parseData: function (res) {
					console.log(res)
					return {
						"code": 0,
						"msg": null,
						"data": res
					};
				}
			});


			var echartsRecordsOne = echarts.init(document.getElementById('echarts-records-1'), 'walden');

			$("body").on("click", "[data-url]", function () {
				PearAdmin.changePage({
					id: $(this).attr("data-id"),
					title: $(this).attr("data-title"),
					url: $(this).attr("data-url"),
					type: "_iframe",
				});
			})

			let color = [
				"#0090FF",
				"#36CE9E",
				"#FFC005",
				"#FF515A",
				"#8B5CFF",
				"#00CA69"
			];

			let echartData = [{
				name: "1",
				value1: 100,
				value2: 233
			},
			{
				name: "2",
				value1: 138,
				value2: 233
			},
			{
				name: "3",
				value1: 350,
				value2: 200
			},
			{
				name: "4",
				value1: 173,
				value2: 180
			},
			{
				name: "5",
				value1: 180,
				value2: 199
			},
			{
				name: "6",
				value1: 150,
				value2: 233
			},
			{
				name: "7",
				value1: 180,
				value2: 210
			},
			{
				name: "8",
				value1: 230,
				value2: 180
			}
			];

			let xAxisData = echartData.map(v => v.name);
			let yAxisData1 = echartData.map(v => v.value1);
			let yAxisData2 = echartData.map(v => v.value2);

			const hexToRgba = (hex, opacity) => {
				let rgbaColor = "";
				let reg = /^#[\da-f]{6}$/i;
				if (reg.test(hex)) {
					rgbaColor =
						`rgba(${parseInt("0x" + hex.slice(1, 3))},${parseInt(
							"0x" + hex.slice(3, 5)
						)},${parseInt("0x" + hex.slice(5, 7))},${opacity})`;
				}
				return rgbaColor;
			}

			optionOne = {
				color: color,
				legend: {
					right: 10,
					top: 10
				},
				tooltip: {
					trigger: "axis",
					formatter: function (params) {
						let html = '';
						params.forEach(v => {
							html +=
								`<div style="color: #666;font-size: 14px;line-height: 24px">
					                <span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${color[v.componentIndex]};"></span>
					                ${v.seriesName}.${v.name}
					                <span style="color:${color[v.componentIndex]};font-weight:700;font-size: 18px">${v.value}</span>
					                万元`;
						})
						return html
					},
					extraCssText: 'background: #fff; border-radius: 0;box-shadow: 0 0 3px rgba(0, 0, 0, 0.2);color: #333;',
					axisPointer: {
						type: 'shadow',
						shadowStyle: {
							color: '#ffffff',
							shadowColor: 'rgba(225,225,225,1)',
							shadowBlur: 5
						}
					}
				},
				grid: {
					top: 100,
					containLabel: true
				},
				xAxis: [{
					type: "category",
					boundaryGap: false,
					axisLabel: {
						formatter: '{value}月',
						textStyle: {
							color: "#333"
						}
					},
					axisLine: {
						lineStyle: {
							color: "#D9D9D9"
						}
					},
					data: xAxisData
				}],
				yAxis: [{
					type: "value",
					name: '单位：万千瓦时',
					axisLabel: {
						textStyle: {
							color: "#666"
						}
					},
					nameTextStyle: {
						color: "#666",
						fontSize: 12,
						lineHeight: 40
					},
					splitLine: {
						lineStyle: {
							type: "dashed",
							color: "#E9E9E9"
						}
					},
					axisLine: {
						show: false
					},
					axisTick: {
						show: false
					}
				}],
				series: [{
					name: "2018",
					type: "line",
					smooth: true,
					symbolSize: 8,
					zlevel: 3,
					lineStyle: {
						normal: {
							color: color[0],
							shadowBlur: 3,
							shadowColor: hexToRgba(color[0], 0.5),
							shadowOffsetY: 8
						}
					},
					areaStyle: {
						normal: {
							color: new echarts.graphic.LinearGradient(
								0,
								0,
								0,
								1,
								[{
									offset: 0,
									color: hexToRgba(color[0], 0.3)
								},
								{
									offset: 1,
									color: hexToRgba(color[0], 0.1)
								}
								],
								false
							),
							shadowColor: hexToRgba(color[0], 0.1),
							shadowBlur: 10
						}
					},
					data: yAxisData1
				}, {
					name: "2019",
					type: "line",
					smooth: true,
					symbolSize: 8,
					zlevel: 3,
					lineStyle: {
						normal: {
							color: color[1],
							shadowBlur: 3,
							shadowColor: hexToRgba(color[1], 0.5),
							shadowOffsetY: 8
						}
					},
					areaStyle: {
						normal: {
							color: new echarts.graphic.LinearGradient(
								0,
								0,
								0,
								1,
								[{
									offset: 0,
									color: hexToRgba(color[1], 0.3)
								},
								{
									offset: 1,
									color: hexToRgba(color[1], 0.1)
								}
								],
								false
							),
							shadowColor: hexToRgba(color[1], 0.1),
							shadowBlur: 10
						}
					},
					data: yAxisData2
				}]
			};

			echartsRecordsOne.setOption(optionOne);

			setInterval(() => {
				echartsRecordsOne.resize();
			}, 500);

			window.onresize = function () {
				echartsRecordsOne.resize();
			}

		});
	</script>
</body>

</html>