<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>DevOps 平台 Dashboard</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../../admin/css/other/console.css" />
</head>

<body>
    <div class="pear-container">
        <div class="layui-row layui-col-space10">
            <!-- 卡片信息 -->
            <div class="layui-col-md2">
                <div class="layui-card">
                    <div class="layui-card-header">告警</div>
                    <div class="layui-card-body">
                        <h2 id="alert-count" class="text-center">12</h2>
                    </div>
                </div>
            </div>
            <div class="layui-col-md2">
                <div class="layui-card">
                    <div class="layui-card-header">容器异常</div>
                    <div class="layui-card-body">
                        <h2 id="exception-notifications" class="text-center">5</h2>
                    </div>
                </div>
            </div>
            <div class="layui-col-md2">
                <div class="layui-card">
                    <div class="layui-card-header">服务器异常</div>
                    <div class="layui-card-body">
                        <h2 id="unhealthy-servers" class="text-center">3</h2>
                    </div>
                </div>
            </div>
            <div class="layui-col-md2">
                <div class="layui-card">
                    <div class="layui-card-header">活动中的流水线</div>
                    <div class="layui-card-body">
                        <h2 id="failed-tasks" class="text-center">2</h2>
                    </div>
                </div>
            </div>
			<div class="layui-col-md2">
                <div class="layui-card">
                    <div class="layui-card-header">失败的任务</div>
                    <div class="layui-card-body">
                        <h2 id="failed-tasks" class="text-center">8</h2>
                    </div>
                </div>
            </div>
			<div class="layui-col-md2">
                <div class="layui-card">
                    <div class="layui-card-header">审计警告</div>
                    <div class="layui-card-body">
                        <h2 id="failed-tasks" class="text-center">8</h2>
                    </div>
                </div>
            </div>
        </div>

        <div class="layui-row layui-col-space10">
            <!-- 部署记录 -->
            <div class="layui-col-md6">
                <div class="layui-card">
                    <div class="layui-card-header">部署记录</div>
                    <div class="layui-card-body">
                        <ul id="deployment-records" class="layui-timeline">
                            <li class="layui-timeline-item">
                                <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                                <div class="layui-timeline-content layui-text">
                                    <h3 class="layui-timeline-title">2025-04-01 10:00</h3>
                                    <p>部署服务 A 成功</p>
                                </div>
                            </li>
                            <li class="layui-timeline-item">
                                <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                                <div class="layui-timeline-content layui-text">
                                    <h3 class="layui-timeline-title">2025-04-01 09:30</h3>
                                    <p>部署服务 B 失败</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 最近的活动 -->
            <div class="layui-col-md6">
                <div class="layui-card">
                    <div class="layui-card-header">最近的活动</div>
                    <div class="layui-card-body">
                        <ul id="recent-activities" class="layui-timeline">
                            <li class="layui-timeline-item">
                                <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                                <div class="layui-timeline-content layui-text">
                                    <h3 class="layui-timeline-title">2025-04-01 11:00</h3>
                                    <p>用户 admin 登录系统</p>
                                </div>
                            </li>
                            <li class="layui-timeline-item">
                                <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                                <div class="layui-timeline-content layui-text">
                                    <h3 class="layui-timeline-title">2025-04-01 10:45</h3>
                                    <p>触发流水线构建</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="layui-row layui-col-space10">
            <!-- 资源状态 -->
            <div class="layui-col-md12">
                <div class="layui-card">
                    <div class="layui-card-header">服务器资源状态</div>
                    <div class="layui-card-body">
                        <div id="resource-status" style="height: 400px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        layui.use(['jquery','echarts'], function () {
            var $ = layui.jquery;

            // 初始化 ECharts 图表
            var resourceChart = echarts.init(document.getElementById('resource-status'));
            var option = {
                title: {
                    text: '服务器资源状态',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ['CPU 利用率', '内存使用率', '磁盘 IO', '网络 IO'],
                    bottom: 0
                },
                xAxis: {
                    type: 'category',
                    data: ['10:00', '10:05', '10:10', '10:15', '10:20']
                },
                yAxis: {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value} %'
                    }
                },
                series: [
                    {
                        name: 'CPU 利用率',
                        type: 'line',
                        data: [30, 40, 35, 50, 45]
                    },
                    {
                        name: '内存使用率',
                        type: 'line',
                        data: [60, 65, 70, 75, 80]
                    },
                    {
                        name: '磁盘 IO',
                        type: 'line',
                        data: [20, 25, 30, 35, 40]
                    },
                    {
                        name: '网络 IO',
                        type: 'line',
                        data: [10, 15, 20, 25, 30]
                    }
                ]
            };
            resourceChart.setOption(option);

            // 自动调整图表大小
            window.onresize = function () {
                resourceChart.resize();
            };
        });
    </script>
</body>

</html>